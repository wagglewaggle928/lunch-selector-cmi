import random
import json
import os

# åˆé¤é€‰é¡¹åˆ—è¡¨
lunch_options = [
    "ğŸ² å¸‚æ°‘éº»è¾£é¦™é”…", "ğŸœ å‡¤å‡°å­”ä¸€å‡¡", "ğŸ¥Ÿ æ²™å¿å°åƒ", "ğŸ› å“æ‚¦æ•å", "ğŸ² éº»è¾£çƒ«", 
    "ğŸ² çŸ³é”…æ‹Œé¥­", "ğŸ” éº¦å½“åŠ³", "ğŸ— è‚¯å¾·åŸº", "ğŸ¥£ èƒ¡è¾£æ±¤", "ğŸ¤ å–œå®¶å¾·", 
    "ğŸœ èºç‹®ç²‰", "ğŸœ å‡¤å‡°ç²¿æ¡", "ğŸ¥¢ é©¬è®°æ°¸", "ğŸ¥¢ é£Ÿå ‚5å±‚", "ğŸ¥¢ é£Ÿå ‚6å±‚", 
    "ğŸ¥¢ é£Ÿå ‚7å±‚", "ğŸ² äº‘å—ç±³çº¿", "ğŸ² è´µå·ç±³çº¿", "ğŸ¥Ÿ å°æ¨ç”Ÿç…", "ğŸŸ é…¸èœé±¼"
]

# è®°å½•æ–‡ä»¶å
record_file = "lunch_record.json"

# è¯»å–è®°å½•æ–‡ä»¶
def load_record():
    if os.path.exists(record_file):
        with open(record_file, "r") as file:
            return json.load(file)
    else:
        return {option: 0 for option in lunch_options}

# ä¿å­˜è®°å½•
def save_record(record):
    with open(record_file, "w") as file:
        json.dump(record, file)

# éšæœºé€‰æ‹©åˆé¤
def choose_lunch():
    return random.choice(lunch_options)

# æ˜¾ç¤ºèœå•
def show_menu():
    print("ä»Šå¤©çš„åˆé¤é€‰æ‹©æœ‰ï¼š")
    for option in lunch_options:
        print(option)

# ä¸»ç¨‹åº
def main():
    record = load_record()
    chosen_options = []
    
    print("æ¬¢è¿æ¥åˆ°å¯çˆ±åˆæœ‰è¶£çš„åˆé¤é€‰æ‹©å™¨ï¼")
    show_menu()

    # ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸‰æ¬¡
    for i in range(3):
        input(f"\nç¬¬ {i+1} æ¬¡é€‰æ‹©ï¼ŒæŒ‰ Enter å¼€å§‹...")
        choice = choose_lunch()
        print(f"ç¬¬ {i+1} æ¬¡é€‰æ‹©çš„åˆé¤æ˜¯: {choice}")
        chosen_options.append(choice)

    print("\nä»Šå¤©ä½ å¯ä»¥é€‰æ‹©ä»¥ä¸‹ä¸‰æ¬¡ç»“æœä¹‹ä¸€ï¼š")
    for i, option in enumerate(chosen_options, 1):
        print(f"{i}. {option}")
    
    # æœ€ç»ˆé€‰æ‹©
    final_choice = int(input("\nè¯·é€‰æ‹©ä½ æœ€ç»ˆæƒ³åƒçš„åˆé¤ï¼ˆè¾“å…¥1-3çš„æ•°å­—ï¼‰ï¼š"))
    selected_lunch = chosen_options[final_choice - 1]

    print(f"\nä½ æœ€ç»ˆé€‰æ‹©çš„åˆé¤æ˜¯: {selected_lunch}ï¼å¥½å¥½äº«å—å§ï¼")

    # æ›´æ–°è®°å½•
    record[selected_lunch] += 1
    save_record(record)

    print("\nåˆé¤é€‰æ‹©ç»Ÿè®¡ï¼š")
    for option, count in record.items():
        print(f"{option}: {count} æ¬¡")

# è¿è¡Œä¸»ç¨‹åº
if __name__ == "__main__":
    main()
